<!doctype html>

<html>

<head>
    <meta charset="utf-8">
    <title>Capital One Bank Winner</title>
    <meta name="viewport"
          content="user-scalable=no, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/bootstrap-theme.min.css">
</head>

<body>
    <div class="container">
        {% if form.errors %}
            {% include 'bootstrap_form_errors.html' %}
        {% endif %}
        <form class="form" action="{% url 'prize_retrieval' code %}" method="post">
            {% csrf_token %}
            {% include 'bootstrap_form_basic.html' %}
            {% for field in form.hidden_fields %}
                {{ field }}
            {% endfor %}
            <p>Send me my prize code:</p>
            <button id="text-method-button"
                    class="btn btn-default toggle-button"
                    type="button"
                    data-value="text">Text code</button>
            <button id="email-method-button"
                    class="btn btn-default toggle-button"
                    type="button"
                    data-value="email">Email code</button>
            <button id="submit-button" class="btn btn-primary" type="submit">Submit</button>
        </form>
    </div>

    <script src="{{ STATIC_URL }}js/jquery-2.1.0.min.js"></script>
    <script src="{{ STATIC_URL }}js/bootstrap.min.js"></script>
    <script>
        var $method_hidden = $("#id_method");

        function toggle_button(value) {
            $method_hidden.val(value);
            $("button.toggle-button").button("toggle");
        }

        function on_button_click(event) {
            toggle_button($(this).attr("data-value"));
        }

        $(function() {
            $("#email-method-button").button("toggle");
            $("button.toggle-button").on("click", on_button_click);
        });
    </script>
</body>

</html>